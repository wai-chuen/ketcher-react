{"code":"/****************************************************************************\r\n * Copyright 2021 EPAM Systems\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *    http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n ***************************************************************************/\r\nimport { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nconst CLASSNAME_SEPARATOR = ' ';\r\nclass Portal extends Component {\r\n    element;\r\n    isElementInDom;\r\n    constructor(props) {\r\n        super(props);\r\n        this.element = document.createElement('div');\r\n        this.isElementInDom = false;\r\n    }\r\n    componentDidMount() {\r\n        if (!this.isElementInDom && this.props.isOpen) {\r\n            this.addElementInDOM();\r\n        }\r\n        const { className, style } = this.props;\r\n        if (className) {\r\n            this.addClassName(className);\r\n        }\r\n        if (style) {\r\n            this.updateStyle(style);\r\n        }\r\n    }\r\n    componentWillUnmount() {\r\n        if (this.isElementInDom) {\r\n            this.removeElementFromDOM();\r\n        }\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        const { isOpen, className, style } = this.props;\r\n        if (className !== prevProps.className) {\r\n            this.removeClassNames(prevProps.className);\r\n            this.addClassName(className);\r\n        }\r\n        if (style !== prevProps.style) {\r\n            this.updateStyle(style, prevProps.style);\r\n        }\r\n        if (isOpen === prevProps.isOpen) {\r\n            return;\r\n        }\r\n        if (isOpen && !this.isElementInDom) {\r\n            this.addElementInDOM();\r\n        }\r\n        else if (this.isElementInDom) {\r\n            this.removeElementFromDOM();\r\n        }\r\n    }\r\n    addElementInDOM() {\r\n        document.querySelector('.Ketcher-root')?.appendChild(this.element);\r\n        this.isElementInDom = true;\r\n    }\r\n    removeElementFromDOM() {\r\n        document.querySelector('.Ketcher-root')?.removeChild(this.element);\r\n        this.isElementInDom = false;\r\n    }\r\n    removeClassNames(classNames) {\r\n        if (!classNames) {\r\n            return;\r\n        }\r\n        classNames.split(CLASSNAME_SEPARATOR).forEach((className) => {\r\n            this.element.classList.remove(className);\r\n        });\r\n    }\r\n    addClassName(classNames) {\r\n        if (!classNames) {\r\n            return;\r\n        }\r\n        classNames.split(CLASSNAME_SEPARATOR).forEach((className) => {\r\n            this.element.classList.add(className);\r\n        });\r\n    }\r\n    updateStyle(style, prevStyle) {\r\n        if (prevStyle) {\r\n            Object.keys(prevStyle).forEach((property) => {\r\n                this.element.style[property] = '';\r\n            }, this);\r\n        }\r\n        if (!style) {\r\n            return;\r\n        }\r\n        Object.keys(style).forEach((property) => {\r\n            this.element.style[property] = style[property];\r\n        }, this);\r\n    }\r\n    render() {\r\n        const { children } = this.props;\r\n        const component = ReactDOM.createPortal(children, this.element);\r\n        return component;\r\n    }\r\n}\r\nexport { Portal };\r\n//# sourceMappingURL=Portal.js.map","references":["/usr/local/google/home/waich/workspace/ketcher/node_modules/@types/react/index.d.ts","/usr/local/google/home/waich/workspace/ketcher/node_modules/@types/react-dom/index.d.ts"],"map":"{\"version\":3,\"file\":\"Portal.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../src/script/ui/Portal/Portal.tsx\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-react/node_modules/.cache/rollup-plugin-typescript2/placeholder/script/ui/Portal/Portal.d.ts","writeByteOrderMark":false,"text":"/****************************************************************************\r\n * Copyright 2021 EPAM Systems\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *    http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n ***************************************************************************/\r\nimport { CSSProperties, Component, ReactNode } from 'react';\r\ninterface PortalProps {\r\n    isOpen: boolean;\r\n    className?: string;\r\n    style?: CSSProperties;\r\n    children: ReactNode;\r\n}\r\ndeclare type Props = PortalProps;\r\ndeclare class Portal extends Component<Props> {\r\n    private readonly element;\r\n    private isElementInDom;\r\n    constructor(props: any);\r\n    componentDidMount(): void;\r\n    componentWillUnmount(): void;\r\n    componentDidUpdate(prevProps: Readonly<Props>): void;\r\n    private addElementInDOM;\r\n    private removeElementFromDOM;\r\n    private removeClassNames;\r\n    private addClassName;\r\n    private updateStyle;\r\n    render(): any;\r\n}\r\nexport { Portal };\r\n"}}
