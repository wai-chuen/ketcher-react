{"code":"/****************************************************************************\r\n * Copyright 2021 EPAM Systems\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *    http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n ***************************************************************************/\r\nimport * as clipArea from '../component/cliparea/cliparea';\r\nimport { KetSerializer, MolSerializer, formatProperties, ChemicalMimeType } from 'ketcher-core';\r\nimport { debounce, isEqual } from 'lodash/fp';\r\nimport { load, onAction } from './shared';\r\nimport actions from '../action';\r\nimport tools from '../action/tools';\r\nimport keyNorm from '../data/convert/keynorm';\r\nimport { openDialog } from './modal';\r\nimport { isIE } from 'react-device-detect';\r\nimport { handleHotkeyOverItem } from './handleHotkeysOverItem';\r\nimport { SettingsManager } from '../utils/settingsManager';\r\nexport function initKeydownListener(element) {\r\n    return function (dispatch, getState) {\r\n        const hotKeys = initHotKeys();\r\n        element.addEventListener('keydown', (event) => keyHandle(dispatch, getState(), hotKeys, event));\r\n    };\r\n}\r\nfunction removeNotRenderedStruct(actionTool, event, dispatch) {\r\n    const { code, metaKey } = event;\r\n    if (actionTool.tool === 'paste' && code === 'KeyS' && metaKey) {\r\n        const savedSelectedTool = SettingsManager.selectionTool;\r\n        dispatch({\r\n            type: 'ACTION',\r\n            action: savedSelectedTool || tools['select-rectangle'].action\r\n        });\r\n    }\r\n}\r\n/* HotKeys */\r\nfunction keyHandle(dispatch, state, hotKeys, event) {\r\n    if (state.modal)\r\n        return;\r\n    const { editor } = state;\r\n    const { render } = editor;\r\n    const actionState = state.actionState;\r\n    const actionTool = actionState.activeTool;\r\n    const key = keyNorm(event);\r\n    const atomsSelected = editor.selection() && editor.selection().atoms;\r\n    let group = null;\r\n    if (key && key.length === 1 && atomsSelected && key.match(/\\w/)) {\r\n        openDialog(dispatch, 'labelEdit', { letter: key })\r\n            .then((res) => {\r\n            dispatch(onAction({ tool: 'atom', opts: res }));\r\n        })\r\n            .catch(() => null);\r\n        event.preventDefault();\r\n    }\r\n    else if (key && key.length === 1 && key.match('/')) {\r\n        const hotkeyDialogTypes = {\r\n            atoms: actions['atom-props'].action,\r\n            bonds: actions['bond-props'].action\r\n        };\r\n        const hoveredItem = getHoveredItem(render.ctab);\r\n        if (!hoveredItem) {\r\n            return;\r\n        }\r\n        const dialogType = Object.keys(hoveredItem)[0];\r\n        if (Object.hasOwn(hotkeyDialogTypes, dialogType)) {\r\n            handleHotkeyOverItem({\r\n                hoveredItem,\r\n                newAction: hotkeyDialogTypes[dialogType],\r\n                editor,\r\n                dispatch\r\n            });\r\n        }\r\n        event.preventDefault();\r\n    }\r\n    else if ((group = keyNorm.lookup(hotKeys, event)) !== undefined) {\r\n        const index = checkGroupOnTool(group, actionTool); // index currentTool in group || -1\r\n        const groupLength = group !== null ? group.length : 1;\r\n        const newIndex = (index + 1) % groupLength;\r\n        const actName = group[newIndex];\r\n        if (actionState[actName] && actionState[actName].disabled === true) {\r\n            event.preventDefault();\r\n            return;\r\n        }\r\n        // Removing from what should be saved - structure, which was added to paste tool,\r\n        // but not yet rendered on canvas\r\n        removeNotRenderedStruct(actionTool, event, dispatch);\r\n        if (clipArea.actions.indexOf(actName) === -1) {\r\n            let newAction = actions[actName].action;\r\n            const hoveredItem = getHoveredItem(render.ctab);\r\n            // check if atom is currently hovered over\r\n            // in this case we do not want to activate the corresponding tool\r\n            // and just insert the atom directly\r\n            if (hoveredItem && newAction.tool !== 'select') {\r\n                newAction = getCurrentAction(group[index]) || newAction;\r\n                handleHotkeyOverItem({\r\n                    hoveredItem,\r\n                    newAction,\r\n                    editor,\r\n                    dispatch\r\n                });\r\n            }\r\n            else {\r\n                dispatch(onAction(newAction));\r\n            }\r\n            event.preventDefault();\r\n        }\r\n        else if (isIE) {\r\n            clipArea.exec(event);\r\n        }\r\n    }\r\n}\r\nfunction getCurrentAction(prevActName) {\r\n    return actions[prevActName]?.action;\r\n}\r\nfunction getHoveredItem(ctab) {\r\n    const hoveredItem = {};\r\n    for (const ctabItem in ctab) {\r\n        if (Object.keys(hoveredItem).length) {\r\n            break;\r\n        }\r\n        if (!(ctab[ctabItem] instanceof Map)) {\r\n            continue;\r\n        }\r\n        ctab[ctabItem].forEach((item, id) => {\r\n            if (item.hover) {\r\n                hoveredItem[ctabItem] = id;\r\n            }\r\n        });\r\n    }\r\n    return Object.keys(hoveredItem).length ? hoveredItem : null;\r\n}\r\nfunction setHotKey(key, actName, hotKeys) {\r\n    if (Array.isArray(hotKeys[key]))\r\n        hotKeys[key].push(actName);\r\n    else\r\n        hotKeys[key] = [actName];\r\n}\r\nfunction initHotKeys() {\r\n    const hotKeys = {};\r\n    let act;\r\n    Object.keys(actions).forEach((actName) => {\r\n        act = actions[actName];\r\n        if (!act.shortcut)\r\n            return;\r\n        if (Array.isArray(act.shortcut)) {\r\n            act.shortcut.forEach((key) => {\r\n                setHotKey(key, actName, hotKeys);\r\n            });\r\n        }\r\n        else {\r\n            setHotKey(act.shortcut, actName, hotKeys);\r\n        }\r\n    });\r\n    return keyNorm(hotKeys);\r\n}\r\nfunction checkGroupOnTool(group, actionTool) {\r\n    let index = group.indexOf(actionTool.tool);\r\n    group.forEach((actName, i) => {\r\n        if (isEqual(actions[actName].action, actionTool))\r\n            index = i;\r\n    });\r\n    return index;\r\n}\r\nconst rxnTextPlain = /\\$RXN\\n+\\s+0\\s+0\\s+0\\n*/;\r\n/* ClipArea */\r\nexport function initClipboard(dispatch) {\r\n    const formats = Object.keys(formatProperties).map((format) => formatProperties[format].mime);\r\n    const debAction = debounce(0, (action) => dispatch(onAction(action)));\r\n    const loadStruct = debounce(0, (structStr, opts) => dispatch(load(structStr, opts)));\r\n    return {\r\n        formats,\r\n        focused() {\r\n            const state = global.currentState;\r\n            return !state.modal;\r\n        },\r\n        onCut() {\r\n            const state = global.currentState;\r\n            const editor = state.editor;\r\n            const data = clipData(editor);\r\n            if (data)\r\n                debAction({ tool: 'eraser', opts: 1 });\r\n            else\r\n                editor.selection(null);\r\n            return data;\r\n        },\r\n        onCopy() {\r\n            const state = global.currentState;\r\n            const editor = state.editor;\r\n            const data = clipData(editor);\r\n            editor.selection(null);\r\n            return data;\r\n        },\r\n        onPaste(data) {\r\n            const structStr = data[ChemicalMimeType.KET] ||\r\n                data[ChemicalMimeType.Mol] ||\r\n                data[ChemicalMimeType.Rxn] ||\r\n                data['text/plain'];\r\n            if (structStr || !rxnTextPlain.test(data['text/plain']))\r\n                loadStruct(structStr, { fragment: true });\r\n        }\r\n    };\r\n}\r\nfunction clipData(editor) {\r\n    const res = {};\r\n    const struct = editor.structSelected();\r\n    const errorHandler = editor.errorHandler;\r\n    if (struct.isBlank())\r\n        return null;\r\n    const simpleObjectOrText = Boolean(struct.simpleObjects.size || struct.texts.size);\r\n    if (simpleObjectOrText && isIE) {\r\n        errorHandler('The structure you are trying to copy contains Simple object or/and Text object.' +\r\n            'To copy Simple object or Text object in Internet Explorer try \"Copy as KET\" button');\r\n        return null;\r\n    }\r\n    const molSerializer = new MolSerializer();\r\n    try {\r\n        const serializer = new KetSerializer();\r\n        const ket = serializer.serialize(struct);\r\n        res[ChemicalMimeType.KET] = ket;\r\n        const type = struct.isReaction ? ChemicalMimeType.Mol : ChemicalMimeType.Rxn;\r\n        const data = molSerializer.serialize(struct);\r\n        res['text/plain'] = data;\r\n        res[type] = data;\r\n        // res['chemical/x-daylight-smiles'] = smiles.stringify(struct);\r\n        return res;\r\n    }\r\n    catch (e) {\r\n        errorHandler(e.message);\r\n    }\r\n    return null;\r\n}\r\n//# sourceMappingURL=hotkeys.js.map","references":["/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-react/src/script/ui/component/cliparea/cliparea.jsx","/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-core/dist/index.d.ts","/usr/local/google/home/waich/workspace/ketcher/node_modules/@types/lodash/fp.d.ts","/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-react/src/script/ui/state/shared.ts","/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-react/src/script/ui/action/index.js","/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-react/src/script/ui/action/tools.js","/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-react/src/script/ui/data/convert/keynorm.js","/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-react/src/script/ui/state/modal/index.js","/usr/local/google/home/waich/workspace/ketcher/node_modules/react-device-detect/index.d.ts","/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-react/src/script/ui/state/handleHotkeysOverItem.ts","/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-react/src/script/ui/utils/settingsManager.ts"],"map":"{\"version\":3,\"file\":\"hotkeys.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../src/script/ui/state/hotkeys.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-react/node_modules/.cache/rollup-plugin-typescript2/placeholder/script/ui/state/hotkeys.d.ts","writeByteOrderMark":false,"text":"/****************************************************************************\r\n * Copyright 2021 EPAM Systems\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *    http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n ***************************************************************************/\r\nexport declare function initKeydownListener(element: any): (dispatch: any, getState: any) => void;\r\nexport declare function initClipboard(dispatch: any): {\r\n    formats: any[];\r\n    focused(): boolean;\r\n    onCut(): {} | null;\r\n    onCopy(): {} | null;\r\n    onPaste(data: any): void;\r\n};\r\n"}}
