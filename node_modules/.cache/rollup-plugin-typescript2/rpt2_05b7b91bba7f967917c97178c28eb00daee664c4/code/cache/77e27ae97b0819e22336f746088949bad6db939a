{"code":"/****************************************************************************\r\n * Copyright 2021 EPAM Systems\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *    http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n ***************************************************************************/\r\nimport { FunctionalGroup, Vec2 } from 'ketcher-core';\r\nfunction getElementsInRectangle(restruct, p0, p1) {\r\n    const bondList = [];\r\n    const atomList = [];\r\n    const sGroups = restruct.sgroups;\r\n    const functionalGroups = restruct.molecule.functionalGroups;\r\n    const x0 = Math.min(p0.x, p1.x);\r\n    const x1 = Math.max(p0.x, p1.x);\r\n    const y0 = Math.min(p0.y, p1.y);\r\n    const y1 = Math.max(p0.y, p1.y);\r\n    restruct.bonds.forEach((bond, bid) => {\r\n        const centre = Vec2.lc2(restruct.atoms.get(bond.b.begin).a.pp, 0.5, restruct.atoms.get(bond.b.end).a.pp, 0.5);\r\n        if (centre.x > x0 &&\r\n            centre.x < x1 &&\r\n            centre.y > y0 &&\r\n            centre.y < y1 &&\r\n            !FunctionalGroup.isBondInContractedFunctionalGroup(bond.b, sGroups, functionalGroups)) {\r\n            bondList.push(bid);\r\n        }\r\n    });\r\n    restruct.atoms.forEach((atom, aid) => {\r\n        const relatedFGId = FunctionalGroup.findFunctionalGroupByAtom(functionalGroups, aid);\r\n        const sGroup = restruct.sgroups.get(relatedFGId);\r\n        if (atom.a.pp.x > x0 &&\r\n            atom.a.pp.x < x1 &&\r\n            atom.a.pp.y > y0 &&\r\n            atom.a.pp.y < y1 &&\r\n            (!FunctionalGroup.isAtomInContractedFunctionalGroup(atom.a, sGroups, functionalGroups, true) ||\r\n                aid === sGroup.item.atoms[0])) {\r\n            atomList.push(aid);\r\n        }\r\n    });\r\n    const rxnArrowsList = [];\r\n    const rxnPlusesList = [];\r\n    const simpleObjectsList = [];\r\n    restruct.rxnArrows.forEach((item, id) => {\r\n        if (item.item.center().x > x0 &&\r\n            item.item.center().x < x1 &&\r\n            item.item.center().y > y0 &&\r\n            item.item.center().y < y1) {\r\n            rxnArrowsList.push(id);\r\n        }\r\n    });\r\n    restruct.rxnPluses.forEach((item, id) => {\r\n        if (item.item.pp.x > x0 &&\r\n            item.item.pp.x < x1 &&\r\n            item.item.pp.y > y0 &&\r\n            item.item.pp.y < y1) {\r\n            rxnPlusesList.push(id);\r\n        }\r\n    });\r\n    restruct.simpleObjects.forEach((item, id) => {\r\n        const referencePoints = item.getReferencePoints(true);\r\n        const referencePointInRectangle = referencePoints.find((point) => point.x > x0 && point.x < x1 && point.y > y0 && point.y < y1);\r\n        if (referencePointInRectangle) {\r\n            simpleObjectsList.push(id);\r\n        }\r\n    });\r\n    const enhancedFlagList = [];\r\n    restruct.enhancedFlags.forEach((item, id) => {\r\n        if (!item.pp)\r\n            return;\r\n        if (item.pp.x > x0 && item.pp.x < x1 && item.pp.y > y0 && item.pp.y < y1) {\r\n            enhancedFlagList.push(id);\r\n        }\r\n    });\r\n    const sgroupDataList = [];\r\n    restruct.sgroupData.forEach((item, id) => {\r\n        if (item.sgroup.pp.x > x0 &&\r\n            item.sgroup.pp.x < x1 &&\r\n            item.sgroup.pp.y > y0 &&\r\n            item.sgroup.pp.y < y1) {\r\n            sgroupDataList.push(id);\r\n        }\r\n    });\r\n    const textsList = [];\r\n    restruct.texts.forEach((item, id) => {\r\n        const referencePoints = item.getReferencePoints();\r\n        const referencePointInRectangle = referencePoints.find((point) => {\r\n            return point.x > x0 && point.x < x1 && point.y > y0 && point.y < y1;\r\n        });\r\n        if (referencePointInRectangle) {\r\n            textsList.push(id);\r\n        }\r\n    });\r\n    return {\r\n        atoms: atomList,\r\n        bonds: bondList,\r\n        rxnArrows: rxnArrowsList,\r\n        rxnPluses: rxnPlusesList,\r\n        enhancedFlags: enhancedFlagList,\r\n        sgroupData: sgroupDataList,\r\n        simpleObjects: simpleObjectsList,\r\n        texts: textsList\r\n    };\r\n}\r\nfunction getElementsInPolygon(restruct, rr) {\r\n    // eslint-disable-line max-statements\r\n    const bondList = [];\r\n    const atomList = [];\r\n    const r = [];\r\n    const sGroups = restruct.sgroups;\r\n    const functionalGroups = restruct.molecule.functionalGroups;\r\n    for (let i = 0; i < rr.length; ++i) {\r\n        r[i] = new Vec2(rr[i].x, rr[i].y);\r\n    }\r\n    restruct.bonds.forEach((bond, bid) => {\r\n        const centre = Vec2.lc2(restruct.atoms.get(bond.b.begin).a.pp, 0.5, restruct.atoms.get(bond.b.end).a.pp, 0.5);\r\n        if (isPointInPolygon(r, centre) &&\r\n            !FunctionalGroup.isBondInContractedFunctionalGroup(bond.b, sGroups, functionalGroups)) {\r\n            bondList.push(bid);\r\n        }\r\n    });\r\n    restruct.atoms.forEach((atom, aid) => {\r\n        const relatedFGId = FunctionalGroup.findFunctionalGroupByAtom(functionalGroups, aid);\r\n        const sGroup = restruct.sgroups.get(relatedFGId);\r\n        if (isPointInPolygon(r, atom.a.pp) &&\r\n            (!FunctionalGroup.isAtomInContractedFunctionalGroup(atom.a, sGroups, functionalGroups, true) ||\r\n                aid === sGroup.item.atoms[0])) {\r\n            atomList.push(aid);\r\n        }\r\n    });\r\n    const rxnArrowsList = [];\r\n    const rxnPlusesList = [];\r\n    const simpleObjectsList = [];\r\n    const textsList = [];\r\n    restruct.rxnArrows.forEach((item, id) => {\r\n        const referencePoints = item.getReferencePoints(true);\r\n        const referencePointInPolygon = referencePoints.find((point) => isPointInPolygon(r, point));\r\n        if (referencePointInPolygon) {\r\n            rxnArrowsList.push(id);\r\n        }\r\n    });\r\n    restruct.rxnPluses.forEach((item, id) => {\r\n        if (isPointInPolygon(r, item.item.pp)) {\r\n            rxnPlusesList.push(id);\r\n        }\r\n    });\r\n    restruct.simpleObjects.forEach((item, id) => {\r\n        const referencePoints = item.getReferencePoints(true);\r\n        const referencePointInPolygon = referencePoints.find((point) => isPointInPolygon(r, point));\r\n        if (referencePointInPolygon) {\r\n            simpleObjectsList.push(id);\r\n        }\r\n    });\r\n    restruct.texts.forEach((item, id) => {\r\n        const referencePoints = item.getReferencePoints();\r\n        const referencePointInPolygon = referencePoints.find((point) => isPointInPolygon(r, point));\r\n        if (referencePointInPolygon) {\r\n            textsList.push(id);\r\n        }\r\n    });\r\n    const enhancedFlagList = [];\r\n    restruct.enhancedFlags.forEach((item, id) => {\r\n        if (item.pp && isPointInPolygon(r, item.pp)) {\r\n            enhancedFlagList.push(id);\r\n        }\r\n    });\r\n    const sgroupDataList = [];\r\n    restruct.sgroupData.forEach((item, id) => {\r\n        if (isPointInPolygon(r, item.sgroup.pp)) {\r\n            sgroupDataList.push(id);\r\n        }\r\n    });\r\n    return {\r\n        atoms: atomList,\r\n        bonds: bondList,\r\n        rxnArrows: rxnArrowsList,\r\n        rxnPluses: rxnPlusesList,\r\n        enhancedFlags: enhancedFlagList,\r\n        sgroupData: sgroupDataList,\r\n        simpleObjects: simpleObjectsList,\r\n        texts: textsList\r\n    };\r\n}\r\n// TODO: test me see testPolygon from\r\n// 'Remove unused methods from render' commit\r\nfunction isPointInPolygon(r, p) {\r\n    // eslint-disable-line max-statements\r\n    const d = new Vec2(0, 1);\r\n    const n = d.rotate(Math.PI / 2);\r\n    let v0 = Vec2.diff(r[r.length - 1], p);\r\n    let n0 = Vec2.dot(n, v0);\r\n    let d0 = Vec2.dot(d, v0);\r\n    let w0 = new Vec2(0, 0);\r\n    let counter = 0;\r\n    const eps = 1e-5;\r\n    let flag1 = false;\r\n    let flag0 = false;\r\n    for (let i = 0; i < r.length; ++i) {\r\n        const v1 = Vec2.diff(r[i], p);\r\n        const w1 = Vec2.diff(v1, v0);\r\n        const n1 = Vec2.dot(n, v1);\r\n        const d1 = Vec2.dot(d, v1);\r\n        flag1 = false;\r\n        if (n1 * n0 < 0) {\r\n            if (d1 * d0 > -eps) {\r\n                if (d0 > -eps)\r\n                    flag1 = true;\r\n                /* eslint-disable no-mixed-operators */\r\n            }\r\n            else if ((Math.abs(n0) * Math.abs(d1) - Math.abs(n1) * Math.abs(d0)) * d1 >\r\n                0) {\r\n                /* eslint-enable no-mixed-operators */\r\n                flag1 = true;\r\n            }\r\n        }\r\n        if (flag1 && flag0 && Vec2.dot(w1, n) * Vec2.dot(w0, n) >= 0) {\r\n            flag1 = false;\r\n        }\r\n        if (flag1) {\r\n            counter++;\r\n        }\r\n        v0 = v1;\r\n        n0 = n1;\r\n        d0 = d1;\r\n        w0 = w1;\r\n        flag0 = flag1;\r\n    }\r\n    return counter % 2 !== 0;\r\n}\r\nexport default {\r\n    inRectangle: getElementsInRectangle,\r\n    inPolygon: getElementsInPolygon\r\n};\r\n//# sourceMappingURL=locate.js.map","references":["/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-core/dist/index.d.ts"],"map":"{\"version\":3,\"file\":\"locate.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../../src/script/editor/tool/helper/locate.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-react/node_modules/.cache/rollup-plugin-typescript2/placeholder/script/editor/tool/helper/locate.d.ts","writeByteOrderMark":false,"text":"/****************************************************************************\r\n * Copyright 2021 EPAM Systems\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *    http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n ***************************************************************************/\r\ndeclare function getElementsInRectangle(restruct: any, p0: any, p1: any): {\r\n    atoms: number[];\r\n    bonds: number[];\r\n    rxnArrows: number[];\r\n    rxnPluses: number[];\r\n    enhancedFlags: number[];\r\n    sgroupData: number[];\r\n    simpleObjects: number[];\r\n    texts: number[];\r\n};\r\ndeclare function getElementsInPolygon(restruct: any, rr: any): {\r\n    atoms: number[];\r\n    bonds: number[];\r\n    rxnArrows: number[];\r\n    rxnPluses: number[];\r\n    enhancedFlags: number[];\r\n    sgroupData: number[];\r\n    simpleObjects: number[];\r\n    texts: number[];\r\n};\r\ndeclare const _default: {\r\n    inRectangle: typeof getElementsInRectangle;\r\n    inPolygon: typeof getElementsInPolygon;\r\n};\r\nexport default _default;\r\n"}}
