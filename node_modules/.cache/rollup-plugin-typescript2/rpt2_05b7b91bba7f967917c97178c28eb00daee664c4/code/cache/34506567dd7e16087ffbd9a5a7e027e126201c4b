{"code":"import { fromAtomAddition, fromAtomsAttrs, fromBondAddition, fromBondsAttrs, fromFragmentDeletion, FunctionalGroup, SGroup, Atom } from 'ketcher-core';\r\nimport { openDialog } from './modal';\r\nimport Tools from '../../editor/tool';\r\nimport { getSelectedAtoms } from '../../editor/tool/select';\r\nimport { onAction } from './shared';\r\nimport { updateSelectedAtoms } from 'src/script/ui/state/modal/atoms';\r\nimport { fromAtom, toAtom, fromBond, toBond } from '../data/convert/structconv';\r\nexport function handleHotkeyOverItem(props) {\r\n    if (props.newAction.tool === 'eraser') {\r\n        handleEraser(props);\r\n    }\r\n    else if (props.newAction.dialog) {\r\n        handleDialog(props);\r\n    }\r\n    else if (props.newAction.tool) {\r\n        handleTool(props);\r\n    }\r\n}\r\nfunction handleEraser({ editor, hoveredItem }) {\r\n    const action = fromFragmentDeletion(editor.render.ctab, mapItemsToArrays(hoveredItem));\r\n    editor.update(action);\r\n    editor.hover(null);\r\n}\r\nfunction handleDialog({ hoveredItem, newAction, editor, dispatch }) {\r\n    const dialogType = Object.keys(hoveredItem)[0];\r\n    const dialogHandler = getDialogHandler(dialogType);\r\n    const hoveredItemId = hoveredItem[dialogType];\r\n    if (dialogHandler) {\r\n        const props = {\r\n            hoveredItemId,\r\n            newAction,\r\n            editor,\r\n            dispatch\r\n        };\r\n        return dialogHandler(props);\r\n    }\r\n}\r\nfunction getDialogHandler(itemType) {\r\n    const dialogs = {\r\n        atoms: (props) => handleAtomPropsDialog(props),\r\n        bonds: (props) => handleBondPropsDialog(props)\r\n    };\r\n    const dialog = dialogs[itemType];\r\n    return dialog;\r\n}\r\nfunction handleAtomPropsDialog({ hoveredItemId, newAction, editor, dispatch }) {\r\n    const selection = editor.selection();\r\n    const atomsSelected = selection?.atoms;\r\n    const restruct = editor.render.ctab;\r\n    if (atomsSelected && atomsSelected.includes(hoveredItemId)) {\r\n        const atoms = getSelectedAtoms(selection, restruct.molecule);\r\n        const changeAtomPromise = editor.event.elementEdit.dispatch(atoms);\r\n        updateSelectedAtoms({\r\n            atoms: selection.atoms || [],\r\n            editor,\r\n            changeAtomPromise\r\n        });\r\n    }\r\n    else {\r\n        const atomFromStruct = restruct.atoms.get(hoveredItemId);\r\n        const convertedAtomForModal = fromAtom(atomFromStruct?.a);\r\n        openDialog(dispatch, newAction.dialog, convertedAtomForModal)\r\n            .then((res) => {\r\n            const updatedAtom = fromAtomsAttrs(restruct, hoveredItemId, toAtom(res), false);\r\n            editor.update(updatedAtom);\r\n        })\r\n            .catch(() => null);\r\n    }\r\n}\r\nfunction handleBondPropsDialog({ hoveredItemId, newAction, editor, dispatch }) {\r\n    const restruct = editor.render.ctab;\r\n    const bondFromStruct = restruct.bonds.get(hoveredItemId);\r\n    const convertedBondForModal = fromBond(bondFromStruct?.b);\r\n    openDialog(dispatch, newAction.dialog, convertedBondForModal)\r\n        .then((res) => {\r\n        const updatedBond = fromBondsAttrs(restruct, hoveredItemId, toBond(res), false);\r\n        editor.update(updatedBond);\r\n    })\r\n        .catch(() => null);\r\n}\r\nfunction handleTool({ hoveredItem, newAction, editor, dispatch }) {\r\n    for (const item in hoveredItem) {\r\n        const toolHandler = getToolHandler(item, newAction.tool);\r\n        const isChangeStructureTool = newAction.tool !== 'hand';\r\n        const hoveredItemId = hoveredItem[item];\r\n        if (toolHandler) {\r\n            const props = {\r\n                hoveredItemId,\r\n                editor,\r\n                newAction,\r\n                dispatch\r\n            };\r\n            isFunctionalGroupChange(props).then((result) => {\r\n                if (!result && isChangeStructureTool)\r\n                    return;\r\n                toolHandler(props);\r\n            });\r\n        }\r\n    }\r\n}\r\nasync function isFunctionalGroupChange(props) {\r\n    return await isChangingFunctionalGroup(props);\r\n}\r\nfunction getToolHandler(itemType, toolName = '') {\r\n    const items = {\r\n        atoms: {\r\n            atom: (props) => handleAtomTool(props),\r\n            bond: (props) => handleBondTool(props),\r\n            charge: (props) => handleChargeTool(props),\r\n            rgroupatom: (props) => handleRGroupAtomTool(props),\r\n            sgroup: ({ editor, hoveredItemId }) => {\r\n                Tools.sgroup.sgroupDialog(editor, hoveredItemId);\r\n            },\r\n            hand: ({ dispatch }) => dispatch(onAction({ tool: 'hand' }))\r\n        },\r\n        _default: {}\r\n    };\r\n    const item = items[itemType];\r\n    if (item) {\r\n        return item[toolName];\r\n    }\r\n    return items._default[toolName];\r\n}\r\nfunction handleAtomTool({ hoveredItemId, newAction, editor }) {\r\n    const atomProps = { ...newAction.opts };\r\n    const updatedAtoms = fromAtomsAttrs(editor.render.ctab, hoveredItemId, atomProps, true);\r\n    editor.update(updatedAtoms);\r\n}\r\nfunction handleBondTool({ hoveredItemId, newAction, editor }) {\r\n    const newBond = fromBondAddition(editor.render.ctab, newAction.opts, hoveredItemId, undefined)[0];\r\n    editor.update(newBond);\r\n}\r\nfunction handleChargeTool({ hoveredItemId, newAction, editor }) {\r\n    const existingAtom = editor.render.ctab.atoms.get(hoveredItemId)?.a;\r\n    if (existingAtom) {\r\n        const updatedAtom = fromAtomsAttrs(editor.render.ctab, hoveredItemId, {\r\n            charge: existingAtom.charge + newAction.opts\r\n        }, null);\r\n        editor.update(updatedAtom);\r\n    }\r\n}\r\nfunction mapItemsToArrays(items) {\r\n    const mappedItems = {};\r\n    for (const item in items) {\r\n        mappedItems[item] = [items[item]];\r\n    }\r\n    return mappedItems;\r\n}\r\nasync function handleRGroupAtomTool({ hoveredItemId, editor }) {\r\n    const struct = editor.render.ctab.molecule;\r\n    const atom = hoveredItemId || hoveredItemId === 0\r\n        ? struct.atoms.get(hoveredItemId)\r\n        : null;\r\n    const rglabel = atom ? atom.rglabel : 0;\r\n    const label = atom ? atom.label : 'R#';\r\n    try {\r\n        let element = await editor.event.elementEdit.dispatch({\r\n            label: 'R#',\r\n            rglabel,\r\n            fragId: atom ? atom.fragment : null\r\n        });\r\n        element = Object.assign({}, Atom.attrlist, element);\r\n        if (!hoveredItemId && hoveredItemId !== 0 && element.rglabel) {\r\n            editor.update(fromAtomAddition(editor.render.ctab, null, element));\r\n        }\r\n        else if (rglabel !== element.rglabel) {\r\n            if (!element.rglabel && label !== 'R#') {\r\n                element.label = label;\r\n            }\r\n            editor.update(fromAtomsAttrs(editor.render.ctab, hoveredItemId, element, false));\r\n        }\r\n    }\r\n    catch (error) { } // w/o changes\r\n}\r\nasync function isChangingFunctionalGroup({ hoveredItemId, editor }) {\r\n    const atomResult = [];\r\n    const result = [];\r\n    const atom = editor.render.ctab.atoms.get(hoveredItemId)?.a;\r\n    const molecule = editor.render.ctab.molecule;\r\n    const functionalGroups = molecule.functionalGroups;\r\n    const sgroupsOnCanvas = Array.from(molecule.sgroups.values());\r\n    if (atom && functionalGroups) {\r\n        const atomId = FunctionalGroup.atomsInFunctionalGroup(functionalGroups, hoveredItemId);\r\n        if (atomId !== null) {\r\n            atomResult.push(atomId);\r\n        }\r\n    }\r\n    const isFunctionalGroup = atomResult.length > 0;\r\n    if (isFunctionalGroup) {\r\n        if (SGroup.isAtomInSaltOrSolvent(hoveredItemId, sgroupsOnCanvas)) {\r\n            return false;\r\n        }\r\n        for (const id of atomResult) {\r\n            const fgId = FunctionalGroup.findFunctionalGroupByAtom(functionalGroups, id);\r\n            if (fgId !== null && !result.includes(fgId)) {\r\n                result.push(fgId);\r\n            }\r\n        }\r\n        return await editor.event.removeFG.dispatch({ fgIds: result });\r\n    }\r\n    return true;\r\n}\r\n//# sourceMappingURL=handleHotkeysOverItem.js.map","references":["/usr/local/google/home/waich/workspace/ketcher/node_modules/redux/index.d.ts","/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-core/dist/index.d.ts","/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-react/src/script/ui/state/modal/index.js","/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-react/src/script/editor/tool/index.js","/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-react/src/script/editor/tool/select.ts","/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-react/src/script/ui/state/shared.ts","/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-react/src/script/editor/index.ts","/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-react/src/script/ui/state/modal/atoms.ts","/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-react/src/script/ui/data/convert/structconv.js"],"map":"{\"version\":3,\"file\":\"handleHotkeysOverItem.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../src/script/ui/state/handleHotkeysOverItem.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-react/node_modules/.cache/rollup-plugin-typescript2/placeholder/script/ui/state/handleHotkeysOverItem.d.ts","writeByteOrderMark":false,"text":"import { Dispatch } from 'redux';\r\nimport { Editor } from '../../editor';\r\ndeclare type TNewAction = {\r\n    tool?: string;\r\n    dialog?: string;\r\n    opts?: any;\r\n};\r\ndeclare type HandleHotkeyOverItemProps = {\r\n    hoveredItem: Record<string, number>;\r\n    newAction: TNewAction;\r\n    editor: Editor;\r\n    dispatch: Dispatch;\r\n};\r\nexport declare function handleHotkeyOverItem(props: HandleHotkeyOverItemProps): void;\r\nexport {};\r\n"}}
