{"code":"import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\r\n/****************************************************************************\r\n * Copyright 2021 EPAM Systems\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *    http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n ***************************************************************************/\r\nimport { useCallback, useState } from 'react';\r\nimport { HexColorPicker, HexColorInput } from 'react-colorful';\r\nimport classes from './ColorPicker.module.less';\r\nimport clsx from 'clsx';\r\nimport Icon from '../../../component/view/icon';\r\nconst presetColors = [\r\n    '#FF4545',\r\n    '#FFAD31',\r\n    '#68D442',\r\n    '#3ACACC',\r\n    '#4434FF',\r\n    '#9C9C9C',\r\n    '#000000'\r\n];\r\nconst ColorPicker = (props) => {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const [isPaletteOpen, setIsPaletteOpen] = useState(false);\r\n    const { onChange, value } = props;\r\n    const handleChange = useCallback((color) => {\r\n        onChange(color);\r\n    }, [onChange]);\r\n    const throttle = useCallback((func, limit) => {\r\n        let inThrottle;\r\n        return (e) => {\r\n            if (!inThrottle) {\r\n                func(e);\r\n                inThrottle = true;\r\n                setTimeout(() => (inThrottle = false), limit);\r\n            }\r\n        };\r\n    }, []);\r\n    const handleClick = useCallback(throttle((e) => {\r\n        e.preventDefault();\r\n        setIsOpen((prev) => !prev);\r\n        setIsPaletteOpen(false);\r\n    }, 200), []);\r\n    const handlePaletteOpen = () => {\r\n        setIsPaletteOpen(true);\r\n    };\r\n    const handleColorChange = (color) => {\r\n        handleChange(color);\r\n    };\r\n    const handleBlur = (e) => {\r\n        if (!e.currentTarget.contains(e.relatedTarget)) {\r\n            handleClick(e);\r\n        }\r\n    };\r\n    return (_jsxs(\"div\", { className: classes.colorPickerWrapper, \"data-testid\": isOpen ? 'color-picker-field-open' : 'color-picker-field', onClick: (e) => e.preventDefault(), children: [_jsxs(\"div\", { className: clsx({\r\n                    [classes.colorPickerInput]: true,\r\n                    [classes.selectedInput]: isOpen\r\n                }), onClick: handleClick, children: [_jsx(\"div\", { className: classes.colorPickerPreview, \"data-testid\": \"color-picker-preview\", style: { backgroundColor: value } }), _jsx(Icon, { className: clsx({\r\n                            [classes.expandIcon]: true,\r\n                            [classes.turnedIcon]: !isOpen\r\n                        }), name: \"chevron\" })] }), isOpen && (_jsxs(\"div\", { className: clsx(classes.colorPickerWrap, isPaletteOpen && classes.withPalette), onBlur: handleBlur, \"data-testid\": \"color-picker-preset\", children: [_jsxs(\"div\", { className: classes.presetColors, children: [_jsx(\"button\", { className: clsx(classes.chooseColor, isPaletteOpen && classes.clicked), onClick: handlePaletteOpen, autoFocus: true, \"data-testid\": \"color-picker-btn\" }), presetColors.map((color) => (_jsx(\"button\", { onClick: () => handleColorChange(color), style: { backgroundColor: color }, className: classes.presetColor }, color)))] }), isPaletteOpen && (_jsxs(\"div\", { className: classes.colorPicker, \"data-testid\": \"color-palette\", children: [_jsx(HexColorPicker, { color: value, onChange: handleChange }), _jsxs(\"div\", { className: classes.colorContainer, children: [_jsx(\"span\", { className: classes.hex, children: \"HEX\" }), _jsx(HexColorInput, { \"data-testid\": \"color-picker-input\", color: value, onChange: handleChange })] })] }))] }))] }));\r\n};\r\nexport default ColorPicker;\r\n//# sourceMappingURL=ColorPicker.js.map","references":["/usr/local/google/home/waich/workspace/ketcher/node_modules/@types/react/index.d.ts","/usr/local/google/home/waich/workspace/ketcher/node_modules/react-colorful/dist/index.d.ts","/usr/local/google/home/waich/workspace/ketcher/node_modules/clsx/clsx.d.ts","/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-react/src/script/ui/component/view/icon.jsx"],"map":"{\"version\":3,\"file\":\"ColorPicker.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../../../src/script/ui/component/form/colorPicker/ColorPicker.tsx\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-react/node_modules/.cache/rollup-plugin-typescript2/placeholder/script/ui/component/form/colorPicker/ColorPicker.d.ts","writeByteOrderMark":false,"text":"/****************************************************************************\r\n * Copyright 2021 EPAM Systems\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *    http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n ***************************************************************************/\r\n/// <reference types=\"react\" />\r\ninterface ColorPickerProps {\r\n    value: string;\r\n    name: string;\r\n    schema: any;\r\n    type?: string;\r\n}\r\ninterface ColorPickerCallProps {\r\n    onChange: (value: string) => void;\r\n}\r\ndeclare type Props = ColorPickerProps & ColorPickerCallProps;\r\ndeclare const ColorPicker: (props: Props) => JSX.Element;\r\nexport default ColorPicker;\r\n"}}
