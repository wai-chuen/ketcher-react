{"code":"import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\r\nimport StructRender from '../../component/structrender';\r\nimport classes from './TemplateTable.module.less';\r\nimport { greekify } from '../../utils';\r\nimport Icon from 'src/script/ui/component/view/icon';\r\nconst isSaltOrSolventTemplate = (template) => template.props.group === 'Salts and Solvents';\r\nconst isFunctionalGroupTemplate = (template) => template.props.group === 'Functional Groups';\r\nfunction getTemplateTitle(template, index) {\r\n    if (isSaltOrSolventTemplate(template)) {\r\n        return template.props.name;\r\n    }\r\n    return template.struct.name || `${template.props.group} template ${index + 1}`;\r\n}\r\nfunction tmplName(tmpl, i) {\r\n    if (isSaltOrSolventTemplate(tmpl)) {\r\n        return tmpl.props.abbreviation;\r\n    }\r\n    return tmpl.struct.name || `${tmpl.props.group} template ${i + 1}`;\r\n}\r\nconst RenderTmpl = ({ tmpl, options, ...props }) => {\r\n    return (_jsx(StructRender, { struct: tmpl.struct, ...props, options: {\r\n            ...options,\r\n            autoScaleMargin: 10,\r\n            cachePrefix: 'templates',\r\n            downScale: true\r\n        } }));\r\n};\r\nconst TemplateTable = (props) => {\r\n    const { templates, selected, onSelect, onDelete, onAttach, titleRows = 2, renderOptions } = props;\r\n    return (_jsx(\"div\", { className: `${classes.tableContent} ${titleRows === 1 ? classes.oneRowTitleTable : classes.twoRowsTitleTable}`, children: templates.map((tmpl, i) => {\r\n            return (_jsxs(\"div\", { className: tmpl.struct !== selected?.struct\r\n                    ? classes.td\r\n                    : `${classes.td} ${classes.selected}`, title: greekify(getTemplateTitle(tmpl, i)), onClick: () => onSelect(tmpl), children: [_jsx(RenderTmpl, { tmpl: tmpl, options: renderOptions, className: classes.struct }), _jsx(\"div\", { className: `${classes.structTitle} ${selected?.struct === tmpl.struct ? classes.selectedTitle : ''}`, children: greekify(tmplName(tmpl, i)) }), tmpl.props.group === 'User Templates' && (_jsx(\"button\", { className: `${classes.button} ${classes.deleteButton}`, onClick: () => onDelete(tmpl), children: _jsx(Icon, { name: \"delete\" }) })), !isFunctionalGroupTemplate(tmpl) &&\r\n                        !isSaltOrSolventTemplate(tmpl) && (_jsx(\"button\", { className: `${classes.button} ${classes.editButton}`, onClick: (e) => {\r\n                            e.stopPropagation();\r\n                            onAttach(tmpl);\r\n                        }, children: _jsx(Icon, { name: \"edit\" }) }))] }, tmpl.struct.name !== selected?.struct.name\r\n                ? `${tmpl.struct.name}_${i}`\r\n                : `${tmpl.struct.name}_${i}_selected`));\r\n        }) }));\r\n};\r\nexport default TemplateTable;\r\n//# sourceMappingURL=TemplateTable.js.map","references":["/usr/local/google/home/waich/workspace/ketcher/node_modules/@types/react/index.d.ts","/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-core/dist/index.d.ts","/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-react/src/script/ui/component/structrender.tsx","/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-react/src/script/ui/utils/index.ts","/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-react/src/script/ui/component/view/icon.jsx"],"map":"{\"version\":3,\"file\":\"TemplateTable.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../../src/script/ui/dialog/template/TemplateTable.tsx\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-react/node_modules/.cache/rollup-plugin-typescript2/placeholder/script/ui/dialog/template/TemplateTable.d.ts","writeByteOrderMark":false,"text":"/****************************************************************************\r\n * Copyright 2021 EPAM Systems\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *    http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n ***************************************************************************/\r\nimport { FC } from 'react';\r\nimport { Struct } from 'ketcher-core';\r\nexport interface Template {\r\n    struct: Struct;\r\n    props: {\r\n        atomid: number;\r\n        bondid: number;\r\n        group: string;\r\n        prerender?: string;\r\n        abbreviation: string;\r\n        name: string;\r\n    };\r\n}\r\ninterface TemplateTableProps {\r\n    templates: Array<Template>;\r\n    selected: Template | null;\r\n    onSelect: (tmpl: Template) => void;\r\n    onDelete?: (tmpl: Template) => void;\r\n    onAttach?: (tmpl: Template) => void;\r\n    titleRows?: 1 | 2;\r\n    renderOptions?: any;\r\n}\r\ndeclare const TemplateTable: FC<TemplateTableProps>;\r\nexport default TemplateTable;\r\n"}}
