{"code":"import { useCallback, useEffect, useRef, useState } from 'react';\r\nimport { filterFGLib } from '../../utils';\r\nconst SALTS_AND_SOLVENTS = 'Salts and Solvents';\r\nconst batchDelay = 300;\r\nexport default function useSaltsAndSolvents(saltsAndSolvents, filter) {\r\n    const [isFirstRender, setIsFirstRender] = useState(true);\r\n    const timerId = useRef(null);\r\n    const [filteredSaltsAndSolvents, setFilteredSaltsAndSolvents] = useState(saltsAndSolvents[SALTS_AND_SOLVENTS]);\r\n    const addToSaSWithBatches = useCallback((fullFilteredArray) => {\r\n        const batchSize = 16;\r\n        setFilteredSaltsAndSolvents((filteredSaltsAndSolvents) => [\r\n            ...(filteredSaltsAndSolvents ?? []),\r\n            ...fullFilteredArray.splice(0, batchSize)\r\n        ]);\r\n        if (fullFilteredArray.length > 0) {\r\n            timerId.current = setTimeout(() => addToSaSWithBatches(fullFilteredArray), batchDelay);\r\n        }\r\n    }, []);\r\n    useEffect(() => {\r\n        const filteredSaS = filterFGLib(saltsAndSolvents, filter)[SALTS_AND_SOLVENTS] ?? [];\r\n        addToSaSWithBatches(filteredSaS);\r\n    }, [saltsAndSolvents, addToSaSWithBatches]);\r\n    useEffect(() => {\r\n        if (isFirstRender) {\r\n            setIsFirstRender(false);\r\n            return;\r\n        }\r\n        clearTimeout(timerId.current);\r\n        const filteredSaS = filterFGLib(saltsAndSolvents, filter)[SALTS_AND_SOLVENTS];\r\n        setFilteredSaltsAndSolvents(filteredSaS);\r\n    }, [saltsAndSolvents, filter]);\r\n    return filteredSaltsAndSolvents;\r\n}\r\n//# sourceMappingURL=useSaltsAndSolvets.js.map","references":["/usr/local/google/home/waich/workspace/ketcher/node_modules/@types/react/index.d.ts","/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-react/src/script/ui/utils/index.ts","/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-react/src/script/ui/dialog/template/TemplateTable.tsx"],"map":"{\"version\":3,\"file\":\"useSaltsAndSolvets.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../../src/script/ui/dialog/template/useSaltsAndSolvets.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAE,WAAW,EAAE,SAAS,EAAE,MAAM,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAA;AAChE,OAAO,EAAE,WAAW,EAAE,MAAM,aAAa,CAAA;AAGzC,MAAM,kBAAkB,GAAG,oBAAoB,CAAA;AAC/C,MAAM,UAAU,GAAG,GAAG,CAAA;AAEtB,MAAM,CAAC,OAAO,UAAU,mBAAmB,CACzC,gBAA4B,EAC5B,MAAc;IAEd,MAAM,CAAC,aAAa,EAAE,gBAAgB,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAA;IACxD,MAAM,OAAO,GAAG,MAAM,CAAuC,IAAI,CAAC,CAAA;IAClE,MAAM,CAAC,wBAAwB,EAAE,2BAA2B,CAAC,GAAG,QAAQ,CACtE,gBAAgB,CAAC,kBAAkB,CAAC,CACrC,CAAA;IAED,MAAM,mBAAmB,GAAG,WAAW,CAAC,CAAC,iBAAiB,EAAE,EAAE;QAC5D,MAAM,SAAS,GAAG,EAAE,CAAA;QACpB,2BAA2B,CAAC,CAAC,wBAAwB,EAAE,EAAE,CAAC;YACxD,GAAG,CAAC,wBAAwB,IAAI,EAAE,CAAC;YACnC,GAAG,iBAAiB,CAAC,MAAM,CAAC,CAAC,EAAE,SAAS,CAAC;SAC1C,CAAC,CAAA;QACF,IAAI,iBAAiB,CAAC,MAAM,GAAG,CAAC,EAAE;YAChC,OAAO,CAAC,OAAO,GAAG,UAAU,CAC1B,GAAG,EAAE,CAAC,mBAAmB,CAAC,iBAAiB,CAAC,EAC5C,UAAU,CACX,CAAA;SACF;IACH,CAAC,EAAE,EAAE,CAAC,CAAA;IAEN,SAAS,CAAC,GAAG,EAAE;QACb,MAAM,WAAW,GACf,WAAW,CAAC,gBAAgB,EAAE,MAAM,CAAC,CAAC,kBAAkB,CAAC,IAAI,EAAE,CAAA;QACjE,mBAAmB,CAAC,WAAW,CAAC,CAAA;IAClC,CAAC,EAAE,CAAC,gBAAgB,EAAE,mBAAmB,CAAC,CAAC,CAAA;IAE3C,SAAS,CAAC,GAAG,EAAE;QACb,IAAI,aAAa,EAAE;YACjB,gBAAgB,CAAC,KAAK,CAAC,CAAA;YACvB,OAAM;SACP;QACD,YAAY,CAAC,OAAO,CAAC,OAA4B,CAAC,CAAA;QAClD,MAAM,WAAW,GAAG,WAAW,CAAC,gBAAgB,EAAE,MAAM,CAAC,CACvD,kBAAkB,CACnB,CAAA;QACD,2BAA2B,CAAC,WAAW,CAAC,CAAA;IAC1C,CAAC,EAAE,CAAC,gBAAgB,EAAE,MAAM,CAAC,CAAC,CAAA;IAE9B,OAAO,wBAAwB,CAAA;AACjC,CAAC\"}","dts":{"name":"/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-react/node_modules/.cache/rollup-plugin-typescript2/placeholder/script/ui/dialog/template/useSaltsAndSolvets.d.ts","writeByteOrderMark":false,"text":"import { Template } from './TemplateTable';\r\nexport default function useSaltsAndSolvents(saltsAndSolvents: Template[], filter: string): any;\r\n"}}
