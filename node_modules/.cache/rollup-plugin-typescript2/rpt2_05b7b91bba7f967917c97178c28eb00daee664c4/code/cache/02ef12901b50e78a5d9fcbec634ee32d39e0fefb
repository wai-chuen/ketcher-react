{"code":"/****************************************************************************\r\n * Copyright 2021 EPAM Systems\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *    http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n ***************************************************************************/\r\nimport { TopToolbar } from './TopToolbar';\r\nimport { connect } from 'react-redux';\r\nimport { onAction } from '../../../state';\r\nimport action from 'src/script/ui/action/index.js';\r\nimport { shortcutStr } from '../shortcutStr';\r\nconst shortcuts = Object.keys(action).reduce((acc, key) => {\r\n    if (action[key]?.shortcut) {\r\n        const shortcut = action[key].shortcut;\r\n        const processedShortcut = shortcutStr(shortcut);\r\n        acc[key] = processedShortcut;\r\n    }\r\n    return acc;\r\n}, {});\r\nconst mapStateToProps = (state) => {\r\n    const actionState = state.actionState || {};\r\n    const disabledButtons = Object.keys(actionState).reduce((acc, item) => {\r\n        if (actionState[item]?.disabled) {\r\n            acc.push(item);\r\n        }\r\n        return acc;\r\n    }, []);\r\n    const hiddenButtons = Object.keys(actionState).reduce((acc, item) => {\r\n        if (actionState[item]?.hidden) {\r\n            acc.push(item);\r\n        }\r\n        return acc;\r\n    }, []);\r\n    return {\r\n        currentZoom: Math.round(state.actionState?.zoom?.selected * 100),\r\n        disabledButtons,\r\n        hiddenButtons,\r\n        shortcuts,\r\n        status: state.actionState || {},\r\n        opened: state.toolbar.opened,\r\n        indigoVerification: state.requestsStatuses.indigoVerification,\r\n        disableableButtons: [\r\n            'layout',\r\n            'clean',\r\n            'arom',\r\n            'dearom',\r\n            'cip',\r\n            'enhanced-stereo'\r\n        ]\r\n    };\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n    const dispatchAction = (actionName) => {\r\n        dispatch(onAction(action[actionName].action));\r\n    };\r\n    return {\r\n        onClear: () => dispatchAction('clear'),\r\n        onFileOpen: () => dispatchAction('open'),\r\n        onSave: () => dispatchAction('save'),\r\n        onUndo: () => dispatchAction('undo'),\r\n        onRedo: () => dispatchAction('redo'),\r\n        onCopy: () => dispatchAction('copy'),\r\n        onCopyMol: () => dispatchAction('copy-mol'),\r\n        onCopyKet: () => dispatchAction('copy-ket'),\r\n        onCopyImage: () => dispatchAction('copy-image'),\r\n        onCut: () => dispatchAction('cut'),\r\n        onPaste: () => dispatchAction('paste'),\r\n        onZoomIn: () => dispatchAction('zoom-in'),\r\n        onZoomOut: () => dispatchAction('zoom-out'),\r\n        onZoom: (zoomValue) => dispatch(onAction((editor) => editor.zoom(zoomValue / 100))),\r\n        onSettingsOpen: () => dispatchAction('settings'),\r\n        onLayout: () => dispatchAction('layout'),\r\n        onClean: () => dispatchAction('clean'),\r\n        onAromatize: () => dispatchAction('arom'),\r\n        onDearomatize: () => dispatchAction('dearom'),\r\n        onCalculate: () => dispatchAction('cip'),\r\n        onCheck: () => dispatchAction('check'),\r\n        onAnalyse: () => dispatchAction('analyse'),\r\n        onMiew: () => dispatchAction('miew'),\r\n        onAction: (action) => dispatch(onAction(action)),\r\n        onOpen: (menuName, isSelected) => dispatch({\r\n            type: 'OPENED',\r\n            data: { menuName, isSelected }\r\n        }),\r\n        onFullscreen: () => dispatchAction('fullscreen'),\r\n        onHelp: () => dispatchAction('help'),\r\n        onAbout: () => dispatchAction('about')\r\n    };\r\n};\r\nconst TopToolbarContainer = connect(mapStateToProps, mapDispatchToProps)(TopToolbar);\r\nexport { TopToolbarContainer };\r\n//# sourceMappingURL=TopToolbar.container.js.map","references":["/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-react/src/script/ui/views/toolbars/TopToolbar/TopToolbar.tsx","/usr/local/google/home/waich/workspace/ketcher/node_modules/redux/index.d.ts","/usr/local/google/home/waich/workspace/ketcher/node_modules/@types/react-redux/index.d.ts","/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-react/src/script/ui/state/index.js","/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-react/src/script/ui/action/index.js","/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-react/src/script/ui/views/toolbars/shortcutStr.ts"],"map":"{\"version\":3,\"file\":\"TopToolbar.container.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../../../src/script/ui/views/toolbars/TopToolbar/TopToolbar.container.ts\"],\"names\":[],\"mappings\":\"AAAA;;;;;;;;;;;;;;6EAc6E;AAE7E,OAAO,EAAE,UAAU,EAAE,MAAM,cAAc,CAAA;AAGzC,OAAO,EAAE,OAAO,EAAE,MAAM,aAAa,CAAA;AACrC,OAAO,EAAE,QAAQ,EAAE,MAAM,gBAAgB,CAAA;AACzC,OAAO,MAAM,MAAM,+BAA+B,CAAA;AAClD,OAAO,EAAE,WAAW,EAAE,MAAM,gBAAgB,CAAA;AAE5C,MAAM,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;IACxD,IAAI,MAAM,CAAC,GAAG,CAAC,EAAE,QAAQ,EAAE;QACzB,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAA;QACrC,MAAM,iBAAiB,GAAG,WAAW,CAAC,QAAQ,CAAC,CAAA;QAC/C,GAAG,CAAC,GAAG,CAAC,GAAG,iBAAiB,CAAA;KAC7B;IACD,OAAO,GAAG,CAAA;AACZ,CAAC,EAAE,EAAE,CAAC,CAAA;AAEN,MAAM,eAAe,GAAG,CAAC,KAAU,EAAE,EAAE;IACrC,MAAM,WAAW,GAAG,KAAK,CAAC,WAAW,IAAI,EAAE,CAAA;IAE3C,MAAM,eAAe,GAAG,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,MAAM,CACrD,CAAC,GAAa,EAAE,IAAI,EAAE,EAAE;QACtB,IAAI,WAAW,CAAC,IAAI,CAAC,EAAE,QAAQ,EAAE;YAC/B,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;SACf;QACD,OAAO,GAAG,CAAA;IACZ,CAAC,EACD,EAAE,CACH,CAAA;IAED,MAAM,aAAa,GAAG,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,MAAM,CACnD,CAAC,GAAa,EAAE,IAAI,EAAE,EAAE;QACtB,IAAI,WAAW,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE;YAC7B,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;SACf;QACD,OAAO,GAAG,CAAA;IACZ,CAAC,EACD,EAAE,CACH,CAAA;IAED,OAAO;QACL,WAAW,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,WAAW,EAAE,IAAI,EAAE,QAAQ,GAAG,GAAG,CAAC;QAChE,eAAe;QACf,aAAa;QACb,SAAS;QACT,MAAM,EAAE,KAAK,CAAC,WAAW,IAAI,EAAE;QAC/B,MAAM,EAAE,KAAK,CAAC,OAAO,CAAC,MAAM;QAC5B,kBAAkB,EAAE,KAAK,CAAC,gBAAgB,CAAC,kBAAkB;QAC7D,kBAAkB,EAAE;YAClB,QAAQ;YACR,OAAO;YACP,MAAM;YACN,QAAQ;YACR,KAAK;YACL,iBAAiB;SAClB;KACF,CAAA;AACH,CAAC,CAAA;AAED,MAAM,kBAAkB,GAAG,CAAC,QAAkB,EAAE,EAAE;IAChD,MAAM,cAAc,GAAG,CAAC,UAAU,EAAE,EAAE;QACpC,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,CAAC,CAAA;IAC/C,CAAC,CAAA;IAED,OAAO;QACL,OAAO,EAAE,GAAG,EAAE,CAAC,cAAc,CAAC,OAAO,CAAC;QACtC,UAAU,EAAE,GAAG,EAAE,CAAC,cAAc,CAAC,MAAM,CAAC;QACxC,MAAM,EAAE,GAAG,EAAE,CAAC,cAAc,CAAC,MAAM,CAAC;QACpC,MAAM,EAAE,GAAG,EAAE,CAAC,cAAc,CAAC,MAAM,CAAC;QACpC,MAAM,EAAE,GAAG,EAAE,CAAC,cAAc,CAAC,MAAM,CAAC;QACpC,MAAM,EAAE,GAAG,EAAE,CAAC,cAAc,CAAC,MAAM,CAAC;QACpC,SAAS,EAAE,GAAG,EAAE,CAAC,cAAc,CAAC,UAAU,CAAC;QAC3C,SAAS,EAAE,GAAG,EAAE,CAAC,cAAc,CAAC,UAAU,CAAC;QAC3C,WAAW,EAAE,GAAG,EAAE,CAAC,cAAc,CAAC,YAAY,CAAC;QAC/C,KAAK,EAAE,GAAG,EAAE,CAAC,cAAc,CAAC,KAAK,CAAC;QAClC,OAAO,EAAE,GAAG,EAAE,CAAC,cAAc,CAAC,OAAO,CAAC;QACtC,QAAQ,EAAE,GAAG,EAAE,CAAC,cAAc,CAAC,SAAS,CAAC;QACzC,SAAS,EAAE,GAAG,EAAE,CAAC,cAAc,CAAC,UAAU,CAAC;QAC3C,MAAM,EAAE,CAAC,SAAiB,EAAE,EAAE,CAC5B,QAAQ,CAAC,QAAQ,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC,CAAC,CAAC;QAC9D,cAAc,EAAE,GAAG,EAAE,CAAC,cAAc,CAAC,UAAU,CAAC;QAChD,QAAQ,EAAE,GAAG,EAAE,CAAC,cAAc,CAAC,QAAQ,CAAC;QACxC,OAAO,EAAE,GAAG,EAAE,CAAC,cAAc,CAAC,OAAO,CAAC;QACtC,WAAW,EAAE,GAAG,EAAE,CAAC,cAAc,CAAC,MAAM,CAAC;QACzC,aAAa,EAAE,GAAG,EAAE,CAAC,cAAc,CAAC,QAAQ,CAAC;QAC7C,WAAW,EAAE,GAAG,EAAE,CAAC,cAAc,CAAC,KAAK,CAAC;QACxC,OAAO,EAAE,GAAG,EAAE,CAAC,cAAc,CAAC,OAAO,CAAC;QACtC,SAAS,EAAE,GAAG,EAAE,CAAC,cAAc,CAAC,SAAS,CAAC;QAC1C,MAAM,EAAE,GAAG,EAAE,CAAC,cAAc,CAAC,MAAM,CAAC;QACpC,QAAQ,EAAE,CAAC,MAAM,EAAE,EAAE,CAAC,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QAChD,MAAM,EAAE,CAAC,QAAQ,EAAE,UAAU,EAAE,EAAE,CAC/B,QAAQ,CAAC;YACP,IAAI,EAAE,QAAQ;YACd,IAAI,EAAE,EAAE,QAAQ,EAAE,UAAU,EAAE;SAC/B,CAAC;QACJ,YAAY,EAAE,GAAG,EAAE,CAAC,cAAc,CAAC,YAAY,CAAC;QAChD,MAAM,EAAE,GAAG,EAAE,CAAC,cAAc,CAAC,MAAM,CAAC;QACpC,OAAO,EAAE,GAAG,EAAE,CAAC,cAAc,CAAC,OAAO,CAAC;KACvC,CAAA;AACH,CAAC,CAAA;AAED,MAAM,mBAAmB,GAAG,OAAO,CACjC,eAAe,EACf,kBAAkB,CACnB,CAAC,UAAU,CAAC,CAAA;AAEb,OAAO,EAAE,mBAAmB,EAAE,CAAA\"}","dts":{"name":"/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-react/node_modules/.cache/rollup-plugin-typescript2/placeholder/script/ui/views/toolbars/TopToolbar/TopToolbar.container.d.ts","writeByteOrderMark":false,"text":"/****************************************************************************\r\n * Copyright 2021 EPAM Systems\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *    http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n ***************************************************************************/\r\n/// <reference types=\"react\" />\r\ndeclare const TopToolbarContainer: import(\"react-redux\").ConnectedComponent<({ className, disabledButtons, indigoVerification, hiddenButtons, shortcuts, onClear, onFileOpen, onSave, onUndo, onRedo, onCopy, onCopyMol, onCopyKet, onCopyImage, onCut, onPaste, currentZoom, onZoom, onZoomIn, onZoomOut, onSettingsOpen, onLayout, onClean, onAromatize, onDearomatize, onCalculate, onCheck, onAnalyse, onMiew, onFullscreen, onAbout, onHelp }: import(\"./TopToolbar\").PanelProps) => JSX.Element, import(\"react-redux\").Omit<import(\"./TopToolbar\").PanelProps, \"disabledButtons\" | \"indigoVerification\" | \"hiddenButtons\" | \"shortcuts\" | \"onClear\" | \"onFileOpen\" | \"onSave\" | \"onUndo\" | \"onRedo\" | \"onCopy\" | \"onCopyMol\" | \"onCopyKet\" | \"onCopyImage\" | \"onCut\" | \"onPaste\" | \"currentZoom\" | \"onZoom\" | \"onZoomIn\" | \"onZoomOut\" | \"onSettingsOpen\" | \"onLayout\" | \"onClean\" | \"onAromatize\" | \"onDearomatize\" | \"onCalculate\" | \"onCheck\" | \"onAnalyse\" | \"onMiew\" | \"onFullscreen\" | \"onAbout\" | \"onHelp\">>;\r\nexport { TopToolbarContainer };\r\n"}}
